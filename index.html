<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dynamic Animated Pie Chart</title>

    <link rel="stylesheet/less" href="styles.less">
    <script src="/script/less/less.js"></script>

    <script src="/script/jquery/jquery.js"></script>
    <script src="/script/raphael/raphael.js"></script>
    <script src="piechart.js"></script>

<script>
var log = function(text){
    // log output
    console.log("log('%s')", text);
    document.getElementById("log").innerHTML += text + "<br>";
};

window.onload = function(){
    var cross = {
        coke: 90,
        pepsi: 90,
        "mountain-dew": 90,
        "dr-pepper": 90
    };

    var music = {
        guitar: 120,
        banjo: 120,
        mandolin: 120
    };

    var pants = {
        jeans: 100,
        slacks: 50
    };

    chart = Raphael("holder", 600, 400).pieChart(200, 200, 100, pants);

    //-- ACTIONS --------------------------------------------

    $("button#add").click(function(event){
        piechart.add_sector($("#label").val(), $("#value").val());
        $("#label").val("test" + ( parseInt($("#label").val().match(/\d+/)[0]) + 1 ));
    });

    $("button#clear-log").click(function(event){
        $("#log").html("");
    });

    $("button#details").click(function(event){
        piechart.details();
    });

}
</script>

</head>

<body>

<h1>Dynamic Animated Pie Chart</h1>

<div id="holder"></div>
<input id="label" placeholder="Label" value="test1">
<input id="value" placeholder="Value" value="120">
<button id="add">Add Sector</button>
<button id="details">Details</button>
<div id="log"></div>
<button id="clear-log">Clear</button>

</body>

</html>
