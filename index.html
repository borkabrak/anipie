<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dynamic Animated Pie Chart</title>

    <link rel="stylesheet/less" href="styles.less">
    <script src="/script/less/less.js"></script>

    <script src="/script/jquery/jquery.js"></script>
    <script src="/script/raphael/raphael.js"></script>
    <script src="/script/rut.js"></script>
    <script src="piechart.js"></script>

<script>
// log output
var log = function(text){
    console.log("LOG Â» %s", text);
    document.getElementById("log").innerHTML += text + "<br>";
};

window.onload = function(){
    var soda = {
        coke: 10,
        pepsi: 20,
        dew: 30,
        pepper: 40
    };

    r = Raphael("holder", 800, 600);
    r.showRuler();
    chart = r.pieChart(300, 300, 200, soda);

    //-- ACTIONS --------------------------------------------

    $("button[data-action=add]").click(function(event){
        chart.add_sector($("#label").val(), $("#value").val());
        $("#label").val("test" + ( parseInt($("#label").val().match(/\d+/)[0]) + 1 ));
    });

    $("button[data-action=clear]").click(function(event){
        $("#log").html("");
    });

    $("button[data-action=remove]").click(function(event){
        log("Remove which sector?");
    });

}
</script>

</head>

<body>

<h1>Dynamic Animated Pie Chart</h1>

<div id="holder"></div>
<input id="label" placeholder="Label" value="test1">
<input id="value" placeholder="Value" value="120">
<button data-action="add">Add Sector</button>
<button data-action="remove">Remove Sector</button>
<div id="log"></div>
<button data-action="clear">Clear</button>

</body>

</html>
